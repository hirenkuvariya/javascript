<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Records</title>
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }

        th, td {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }

        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>

<script>
    var company = [{
        "name": "TechCorp",
        "location": "Silicon Valley",
        "departments": [
            {
                "id": 1,
                "name": "Engineering",
                "employees": [
                    {
                        "id": 101,
                        "name": "John Doe",
                        "position": "Software Engineer",
                        "salary": 100000,
                        "projects": ["ProjectA", "ProjectB"]
                    },
                    {
                        "id": 102,
                        "name": "Jane Smith",
                        "position": "Data Scientist",
                        "salary": 120000,
                        "projects": ["ProjectB", "ProjectC"]
                    }
                ]
            },
            {
                "id": 2,
                "name": "Marketing",
                "employees": [
                    {
                        "id": 201,
                        "name": "Bob Johnson",
                        "position": "Marketing Manager",
                        "salary": 90000,
                        "projects": ["ProjectC", "ProjectD"]
                    },
                    {
                        "id": 202,
                        "name": "Alice Brown",
                        "position": "Content Writer",
                        "salary": 80000,
                        "projects": ["ProjectD"]
                    }
                ]
            }
        ]
    }];

    // Extracting employee data
    var employeeData = company[0].departments.flatMap(department =>
        department.employees.map(employee => ({
            id: employee.id,
            name: employee.name,
            position: employee.position,
            salary: employee.salary,
            projects: employee.projects.join(", ")
        }))
    );

    // Displaying employee data in a table
    document.write("<h2>Employee Records</h2>");
    document.write("<table>");
    document.write("<tr><th>ID</th><th>Name</th><th>Position</th><th>Salary</th><th>Projects</th></tr>");

    employeeData.forEach(employee => {
        document.write(`<tr>
                            <td>${employee.id}</td>
                            <td>${employee.name}</td>
                            <td>${employee.position}</td>
                            <td>${employee.salary}</td>
                            <td>${employee.projects}</td>
                        </tr>`);
    });

    document.write("</table>");
</script>

</body>
</html>
